{% extends "base.html.twig" %}
{% block title %} Les employés {% endblock %} 
{% block styles %}
     <link rel="stylesheet" href="{{asset('styles/employe/index.css')}}">
{% endblock %}
{% block body %}

     <div class="containers container d-flex align-items-center justify-content-center flex-column gap-2">
          <div class="container d-flex align-items-center justify-content-between">
               <h2>Les employés</h2>
               <a href="{{path('employes.create')}}" class="btn btn-primary">Ajouter</a>
          </div>
          <form action="" class="align-self-start d-flex align-items-center justify-content-center flex-row gap-2">
               <input value="{{data.search ?? ''}}" type="text" placeholder="Rechercher..." class="form-control" name="search">
               <input value="{{limit}}" type="number" name="limit" id="" class="form-control" placeholder="Pagination...">
               <input type="submit" value="Rechercher" class="btn btn-primary btn-sm">
          </form>
          <table class="my-5 table table-striped">
               <thead>
                    <tr>
                         <th></th>
                         <th>Nom et prénom</th>
                         <th>Email</th>
                         <th>Phone</th>
                         <th>Adresse</th>
                         <th>Poste</th>
                         <th></th>
                    </tr>
               </thead>
               <tbody>
                    {% for employe in employes %}
                         <tr>
                              <td></td>
                              <td>{{employe.nom}} {{employe.prenom}}</td>
                              <td>{{employe.email}}</td>
                              <td>{{employe.phone}}</td>
                              <td>{{employe.address}}</td>
                              <td>{{employe.poste}}</td>
                              <td>
                                   <div class="d-flex gap-1">
                                        <a href="" class="btn btn-sm btn-success">Voir</a>
                                        <form action="">
                                             <button class="btn btn-sm btn-danger">Supprimer</button>
                                        </form>
                                   </div>
                              </td>
                         </tr>
                    {% endfor %}
               </tbody>
          </table>
          <div class="container d-flex align-items-center justify-content-between flex-row align-self-end">
               <h5 class="fw-bolder">{{count}} / {{total}}</h5>
               <div>
                    {% for i in range(1, maxPages) %}
                         <a href="?page={{i}}&search={{data.search}}&limit={{limit}}" class="paginate btn btn-outline-primary btn-sm">{{i}}</a>
                    {% endfor %}
               </div>
          </div>
     </div>

{% endblock %}